import React from "react";
import MainSection from "../ui/sections/MainSection";
import { Box, Container, Typography } from "@mui/material";
import { Navigation } from "swiper/modules";
import { Swiper, SwiperSlide } from "swiper/react";
import { useTranslation } from "react-i18next";

// Import Swiper styles
import "swiper/css";
import "swiper/css/navigation";
import SpecialNewsCard from "../ui/cards/SpecialNewsCard";
import { Link } from "react-router-dom";
import { useSelector } from "react-redux";
import Loader from "../ui/loading/Loader";

export default function SpecialNewsSection() {
  const { news, status } = useSelector((state) => state.news);
  const [t] = useTranslation("global");

  const cardList =
    news.length > 0 ? (
      news.map((item) => (
        <SwiperSlide key={item.id}>
          <SpecialNewsCard
            id={item.id}
            startDate={item.startDate}
            endDate={item.endDate}
            image={item.image}
            title={item.title}
            content={item.content}
            status={item.status}
          />
        </SwiperSlide>
      ))
    ) : (
      <Box
        sx={{
          height: "30vh",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          flexDirection: "column",
          gap: "10px",
        }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="110"
          height="110"
          viewBox="0 0 110 110"
          fill="none"
        >
          <path
            d="M58.4375 10.3125V15.4688H6.875V10.3125C6.875 8.42188 8.42188 6.875 10.3125 6.875H55C56.8906 6.875 58.4375 8.42188 58.4375 10.3125Z"
            fill="#A4BBDB"
          />
          <path
            d="M58.4375 15.4688V72.1875C58.4375 74.0781 56.8906 75.625 55 75.625H10.3125C8.42188 75.625 6.875 74.0781 6.875 72.1875V15.4688H58.4375Z"
            fill="#E9F3FC"
          />
          <path
            d="M48.125 31.7969H17.1875C16.2422 31.7969 15.4688 31.0234 15.4688 30.0781C15.4688 29.1328 16.2422 28.3594 17.1875 28.3594H48.125C49.0703 28.3594 49.8438 29.1328 49.8438 30.0781C49.8438 31.0234 49.0703 31.7969 48.125 31.7969ZM48.125 42.1094H17.1875C16.2422 42.1094 15.4688 41.3359 15.4688 40.3906C15.4688 39.4453 16.2422 38.6719 17.1875 38.6719H48.125C49.0703 38.6719 49.8438 39.4453 49.8438 40.3906C49.8438 41.3359 49.0703 42.1094 48.125 42.1094ZM48.125 52.4219H17.1875C16.2422 52.4219 15.4688 51.6484 15.4688 50.7031C15.4688 49.7578 16.2422 48.9844 17.1875 48.9844H48.125C49.0703 48.9844 49.8438 49.7578 49.8438 50.7031C49.8438 51.6484 49.0703 52.4219 48.125 52.4219ZM48.125 62.7344H17.1875C16.2422 62.7344 15.4688 61.9609 15.4688 61.0156C15.4688 60.0703 16.2422 59.2969 17.1875 59.2969H48.125C49.0703 59.2969 49.8438 60.0703 49.8438 61.0156C49.8438 61.9609 49.0703 62.7344 48.125 62.7344Z"
            fill="#CADCF0"
          />
          <path
            d="M103.125 37.8125V42.9688H51.5625V37.8125C51.5625 35.9219 53.1094 34.375 55 34.375H99.6875C101.578 34.375 103.125 35.9219 103.125 37.8125Z"
            fill="#A4BBDB"
          />
          <path
            d="M103.125 42.9688V99.6875C103.125 101.578 101.578 103.125 99.6875 103.125H55C53.1094 103.125 51.5625 101.578 51.5625 99.6875V42.9688H103.125Z"
            fill="#E9F3FC"
          />
          <path
            d="M92.8125 59.2969H61.875C60.9297 59.2969 60.1562 58.5234 60.1562 57.5781C60.1562 56.6328 60.9297 55.8594 61.875 55.8594H92.8125C93.7578 55.8594 94.5312 56.6328 94.5312 57.5781C94.5312 58.5234 93.7578 59.2969 92.8125 59.2969ZM92.8125 69.6094H61.875C60.9297 69.6094 60.1562 68.8359 60.1562 67.8906C60.1562 66.9453 60.9297 66.1719 61.875 66.1719H92.8125C93.7578 66.1719 94.5312 66.9453 94.5312 67.8906C94.5312 68.8359 93.7578 69.6094 92.8125 69.6094ZM92.8125 79.9219H61.875C60.9297 79.9219 60.1562 79.1484 60.1562 78.2031C60.1562 77.2578 60.9297 76.4844 61.875 76.4844H92.8125C93.7578 76.4844 94.5312 77.2578 94.5312 78.2031C94.5312 79.1484 93.7578 79.9219 92.8125 79.9219ZM92.8125 90.2344H61.875C60.9297 90.2344 60.1562 89.4609 60.1562 88.5156C60.1562 87.5703 60.9297 86.7969 61.875 86.7969H92.8125C93.7578 86.7969 94.5312 87.5703 94.5312 88.5156C94.5312 89.4609 93.7578 90.2344 92.8125 90.2344Z"
            fill="#CADCF0"
          />
          <path
            d="M80.7812 25.7812V30.9375H29.2188V25.7812C29.2188 23.8906 30.7656 22.3438 32.6562 22.3438H77.3438C79.2344 22.3438 80.7812 23.8906 80.7812 25.7812Z"
            fill="#A4BBDB"
          />
          <path
            d="M80.7812 30.9375V87.6562C80.7812 89.5469 79.2344 91.0938 77.3438 91.0938H32.6562C30.7656 91.0938 29.2188 89.5469 29.2188 87.6562V30.9375H80.7812Z"
            fill="#E9F3FC"
          />
          <path
            d="M42.969 56.2374C42.5222 56.2374 42.0925 56.0655 41.7487 55.7389C41.5894 55.5799 41.463 55.391 41.3767 55.1831C41.2905 54.9752 41.2461 54.7523 41.2461 54.5272C41.2461 54.3021 41.2905 54.0792 41.3767 53.8713C41.463 53.6634 41.5894 53.4745 41.7487 53.3155L48.0394 47.0249C48.3607 46.7035 48.7966 46.5229 49.2511 46.5229C49.7056 46.5229 50.1414 46.7035 50.4628 47.0249C50.7842 47.3462 50.9647 47.7821 50.9647 48.2366C50.9647 48.6911 50.7842 49.1269 50.4628 49.4483L44.1722 55.7389C43.8284 56.0827 43.3987 56.2374 42.9519 56.2374H42.969Z"
            fill="#347BFA"
          />
          <path
            d="M49.2589 56.2374C48.8121 56.2374 48.3824 56.0655 48.0386 55.7389L41.748 49.4483C41.4266 49.1269 41.2461 48.6911 41.2461 48.2366C41.2461 47.7821 41.4266 47.3462 41.748 47.0249C42.0694 46.7035 42.5052 46.5229 42.9597 46.5229C43.4142 46.5229 43.8501 46.7035 44.1714 47.0249L50.4621 53.3155C50.7019 53.5555 50.865 53.8614 50.9307 54.1943C50.9963 54.5272 50.9615 54.8721 50.8308 55.1852C50.7 55.4984 50.4791 55.7655 50.1962 55.9529C49.9133 56.1402 49.5811 56.2392 49.2418 56.2374H49.2589ZM60.7402 56.2374C60.2933 56.2374 59.8636 56.0655 59.5199 55.7389C59.3605 55.5799 59.2341 55.391 59.1479 55.1831C59.0616 54.9752 59.0172 54.7523 59.0172 54.5272C59.0172 54.3021 59.0616 54.0792 59.1479 53.8713C59.2341 53.6634 59.3605 53.4745 59.5199 53.3155L65.8105 47.0249C65.9696 46.8657 66.1585 46.7395 66.3664 46.6534C66.5744 46.5673 66.7972 46.5229 67.0222 46.5229C67.2473 46.5229 67.4701 46.5673 67.678 46.6534C67.8859 46.7395 68.0748 46.8657 68.2339 47.0249C68.3931 47.184 68.5193 47.3729 68.6054 47.5808C68.6915 47.7887 68.7358 48.0115 68.7358 48.2366C68.7358 48.4616 68.6915 48.6844 68.6054 48.8924C68.5193 49.1003 68.3931 49.2892 68.2339 49.4483L61.9433 55.7389C61.5996 56.0827 61.1699 56.2374 60.723 56.2374H60.7402Z"
            fill="#347BFA"
          />
          <path
            d="M67.0321 56.2374C66.5852 56.2374 66.1556 56.0655 65.8118 55.7389L59.5212 49.4483C59.3621 49.2892 59.2358 49.1003 59.1497 48.8924C59.0636 48.6844 59.0193 48.4616 59.0193 48.2366C59.0193 48.0115 59.0636 47.7887 59.1497 47.5808C59.2358 47.3729 59.3621 47.184 59.5212 47.0249C59.6803 46.8657 59.8692 46.7395 60.0771 46.6534C60.285 46.5673 60.5079 46.5229 60.7329 46.5229C60.9579 46.5229 61.1808 46.5673 61.3887 46.6534C61.5966 46.7395 61.7855 46.8657 61.9446 47.0249L68.2352 53.3155C68.4751 53.5555 68.6382 53.8614 68.7038 54.1943C68.7695 54.5272 68.7347 54.8721 68.604 55.1852C68.4732 55.4984 68.2523 55.7655 67.9694 55.9529C67.6865 56.1402 67.3542 56.2392 67.0149 56.2374H67.0321ZM66.1212 73.0983C65.5024 73.0983 64.9181 72.7717 64.6087 72.1874C62.7181 68.6295 59.0399 66.4295 55.0181 66.4295C50.9962 66.4295 47.3181 68.6295 45.4274 72.1874C44.9806 73.0295 43.9321 73.3389 43.1071 72.892C42.9082 72.7862 42.7322 72.6422 42.5891 72.4682C42.4459 72.2943 42.3386 72.0937 42.2731 71.8782C42.2076 71.6626 42.1854 71.4363 42.2075 71.2121C42.2297 70.9879 42.296 70.7703 42.4024 70.5717C44.8946 65.8967 49.7243 62.992 55.0352 62.992C60.3462 62.992 65.1759 65.8967 67.6681 70.5717C68.1149 71.4139 67.8056 72.4452 66.9634 72.892C66.7056 73.0295 66.4306 73.0983 66.1556 73.0983H66.1212Z"
            fill="#347BFA"
          />
        </svg>

        <Typography sx={{ fontWeight: "700", fontSize: "16px" }}>
          {t("home.special_news.no_news")}
        </Typography>
      </Box>
    );
  return (
    <MainSection name={"special-news"}>
      <Container maxWidth={"xl"}>
        <Box
          sx={{
            backgroundColor: "#fff",
            padding: "17px 20px",
            borderRadius: "9px",
          }}
        >
          <Box
            sx={{
              display: "flex",
              alignItems: "center",
              justifyContent: "space-between",
            }}
          >
            <Typography
              sx={{ fontSize: "16px", fontWeight: "700" }}
              variant="h5"
            >
              {t("home.special_news.title")}
            </Typography>

            <Link to="/news" style={{ color: "#377DFF" }}>
              {t("home.special_news.more")}
            </Link>
          </Box>

          <Swiper
            modules={[Navigation]}
            spaceBetween={20}
            breakpoints={{
              520: { slidesPerView: 2 },
              768: { slidesPerView: 3 },
              996: { slidesPerView: 4 },
            }}
            dir="ltr"
            navigation
            pagination={{ clickable: true }}
            scrollbar={{ draggable: true }}
            style={{ marginTop: "10px", padding: "10px 0px" }}
          >
            {status === "pending" ? <Loader /> : cardList}
          </Swiper>
        </Box>
      </Container>
    </MainSection>
  );
}
